# This file is generated. Do not edit.
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: tests.testsys.bottlerocket.aws
spec:
  group: testsys.bottlerocket.aws
  names:
    categories: []
    kind: Test
    plural: tests
    shortNames: []
    singular: test
  scope: Namespaced
  versions:
    - additionalPrinterColumns: []
      name: v1
      schema:
        openAPIV3Schema:
          description: "Auto-generated derived type for TestSpec via `CustomResource`"
          properties:
            spec:
              description: "A TestSys Test. The `CustomResource` derive also produces a struct named `Test` which represents a test CRD object in the k8s API."
              properties:
                agent:
                  description: Information about the test agent.
                  properties:
                    configuration:
                      additionalProperties: true
                      description: "The configuration to pass to the test pod. This is 'open' to allow tests to define their own schemas."
                      nullable: true
                      type: object
                    image:
                      description: The URI of the test agent container image.
                      type: string
                    name:
                      description: The name of the test agent.
                      type: string
                    pull_secret:
                      description: The name of an image registry pull secret if one is needed to pull the test agent image.
                      nullable: true
                      type: string
                  required:
                    - image
                    - name
                  type: object
                resources:
                  additionalProperties:
                    description: "A request for construction of a resource, as needed by a `Test`."
                    properties:
                      configuration:
                        additionalProperties: true
                        description: "Customized information about the resource that is to be created. The `ResourceProvider` may define a schema to be used here."
                        nullable: true
                        type: object
                      provider_name:
                        description: "The name of the `ResourceProvider` CRD instance that can provide the needed resource."
                        type: string
                    required:
                      - provider_name
                    type: object
                  description: Information about resources this test needs.
                  type: object
              required:
                - agent
                - resources
              type: object
            status:
              description: The status field of the TestSys Test CRD. This is where the controller and agents will write information about the status of the test run.
              nullable: true
              properties:
                agent:
                  description: Information written by the test agent.
                  nullable: true
                  properties:
                    error_message:
                      description: "Due to structural OpenAPI constraints, the error message must be provided separately instead of as a value within the `RunState::Error` variant. If the `run_state` is `Error` then there *may* be an error message here. If there is an error message here and the `run_state` is *not* `Error`, the this is a bad state and the `error_message` should be ignored."
                      nullable: true
                      type: string
                    results:
                      nullable: true
                      properties:
                        num_failed:
                          format: uint64
                          minimum: 0.0
                          type: integer
                        num_passed:
                          format: uint64
                          minimum: 0.0
                          type: integer
                        num_skipped:
                          format: uint64
                          minimum: 0.0
                          type: integer
                        other_info:
                          nullable: true
                          type: string
                        outcome:
                          enum:
                            - Pass
                            - Fail
                            - Timeout
                            - Unknown
                          type: string
                      required:
                        - num_failed
                        - num_passed
                        - num_skipped
                        - outcome
                      type: object
                    run_state:
                      enum:
                        - Unknown
                        - Running
                        - Done
                        - Error
                      type: string
                  required:
                    - run_state
                  type: object
                controller:
                  description: Information written by the controller.
                  nullable: true
                  properties:
                    lifecycle:
                      description: "What phase of the TestSys `Test` lifecycle are we in."
                      enum:
                        - New
                        - Acknowledged
                        - TestPodCreated
                        - TestPodStarting
                        - TestPodHealthy
                        - TestPodDone
                        - TestPodError
                        - TestPodFailed
                        - TestPodExited
                        - TestPodDeleting
                        - TestPodDeleted
                      type: string
                  required:
                    - lifecycle
                  type: object
                resources:
                  additionalProperties:
                    description: A status struct to be used by a resource agent..
                    properties:
                      agent_info:
                        additionalProperties: true
                        description: Any customized information that the resource agent wants to remember.
                        nullable: true
                        type: object
                      agent_state:
                        description: The state that the resource agent is in.
                        enum:
                          - Unknown
                          - Creating
                          - Created
                          - CreateFailed
                          - Destroying
                          - Destroyed
                          - DestroyFailed
                        type: string
                      created_resource:
                        additionalProperties: true
                        description: "When the resource agent is done creating the resource, it populates this field with a description of the resource."
                        nullable: true
                        type: object
                      error:
                        description: "If the resource agent encounters an error, it is written here."
                        nullable: true
                        type: string
                      error_resources:
                        description: "If the resource agent encounters an error, it tells us whether or not resources were left behind."
                        enum:
                          - Orphaned
                          - Remaining
                          - Clear
                          - Unknown
                        nullable: true
                        type: string
                    required:
                      - agent_state
                    type: object
                  description: Information written by the resource agents.
                  nullable: true
                  type: object
              type: object
          required:
            - spec
          title: Test
          type: object
      served: true
      storage: true
      subresources:
        status: {}
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  name: resource-providers.testsys.bottlerocket.aws
spec:
  group: testsys.bottlerocket.aws
  names:
    categories: []
    kind: ResourceProvider
    plural: resource-providers
    shortNames:
      - rp
    singular: resource-provider
  scope: Namespaced
  versions:
    - additionalPrinterColumns: []
      name: v1
      schema:
        openAPIV3Schema:
          description: "Auto-generated derived type for ResourceProviderSpec via `CustomResource`"
          properties:
            spec:
              description: "An object representing a container that can be run to create and destroy resources. The `CustomResource` derive also produces a struct named `ResourceProvider` which represents a resource provider object in the k8s API."
              properties:
                configuration:
                  additionalProperties: true
                  description: "The configuration to pass to the resource agent pod. This is 'open' to allow resource agents to define their own schemas."
                  nullable: true
                  type: object
                image:
                  description: The URI of the resource agent container image.
                  type: string
                pull_secret:
                  description: The name of an image registry pull secret if one is needed to pull the resource agent image.
                  nullable: true
                  type: string
              required:
                - image
              type: object
            status:
              description: The status field of the ResourceProvider CRD.
              nullable: true
              type: object
          required:
            - spec
          title: ResourceProvider
          type: object
      served: true
      storage: true
      subresources:
        status: {}
